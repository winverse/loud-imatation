<!DOCTYPE html>
<html>
  <head>
    <% include ../partials/head %>
  </head>
  <body>
    <% include ../partials/nav %>

    <div class="container user user-new">
      
      <form class="user-form form-horizontal" action="/users" method="post">
        <div class="contentBox">
          <h3 class="contentBoxTop">New User</h3>
          <button type="button" class="client" value="client">의뢰자</button>
          <button type="button" class="designer" value="designer"> 디자이너</button>
          <input type="text" class="job" name="job2" value="" disabled/>
          <fieldset>
          <input type="text" class="job" name="job" value="" hidden/>
            <div class="form-group <%= (errors.email)?'has-error':'' %>">
              <label for="email" class="col-sm-3 control-label">Email*</label>
              <div class="col-sm-9">
                <input class="form-control" type="email" id="email" name="email" value="<%= user.email %>">
                <% if(errors.email){ %>
                  <span class="help-block"><%= errors.email.message %></span>
                <% } %>
              </div>
            </div>
            <div class="form-group <%= (errors.name)?'has-error':'' %>">
              <label for="name" class="col-sm-3 control-label">Name*</label>
              <div class="col-sm-9">
                <input class="form-control" type="text" id="name" name="name" value="<%= user.name %>">
                <% if(errors.name){ %>
                  <span class="help-block"><%= errors.name.message %></span>
                <% } %>
              </div>
            </div>
            <div class="form-group <%= (errors.password)?'has-error':'' %>">
              <label for="password" class="col-sm-3 control-label">Password*</label>
              <div class="col-sm-9">
                <input class="form-control" type="password" id="password" name="password" value="">
                <% if(errors.password){ %>
                  <span class="help-block"><%= errors.password.message %></span>
                <% } %>
              </div>
            </div>
            <div class="form-group <%= (errors.passwordConfirmation)?'has-error':'' %>">
              <label for="passwordConfirmation" class="col-sm-12 control-label">Password Confirmation*</label>
              <div class="col-sm-9 col-sm-offset-3">
                <input class="form-control" type="password" id="passwordConfirmation" name="passwordConfirmation" value="">
                <% if(errors.passwordConfirmation){ %>
                  <span class="help-block"><%= errors.passwordConfirmation.message %></span>
                <% } %>
              </div>
            </div>
            <p>
              <small>*Required</small>
            </p>
          </fieldset>
        </div>
        <div class="buttons">
          <button type="submit" class="btn btn-default next">Submit</button>
        </div>
        <% if(errors.unhandled){ %>
          <div class="alert alert-danger">
            <%= errors.unhandled.message %>
          </div>
        <% } %>
      </form>

    </div> <!-- container end -->
    <script>
      $(document).ready(function(){
        $('.client').on('click', function(){
          let client =  $('.client').val();
          $('.job').val(client);
          $('.job2').val(client);
        });
      });
      $(document).ready(function(){
        $('.designer').on('click', function(){
          let designer = $('.designer').val();
          $('.job').val(designer);
          $('.job2').val(designer);
        });
      });

      $(document).ready(function(){
        $('.next').on('click', function(){
          let job = $('.job').val();
          if(job == ''){
            alert("필수사항이 비었습니다.");
            return false;
          }
        }); 
      });
    </script>
  </body>
</html>
